---
import Layout from '../layouts/Layout.astro';

// import astro db
import { db, Comment } from 'astro:db';

const comments = await db.select().from(Comment);
---

<Layout title='Welcome to Astro.'>
  <main>
    <section class='py-8'>
      <div class='container mx-auto'>
        <h1 class='text-2xl font-semibold'>Comments</h1>
        <div class='mt-4 flex flex-col gap-4'>
          {
            comments.map(({ authorId, content }) => (
              <article>
                <div class='p-4 bg-zinc-50 rounded-lg'>
                  <p class='font-semibold'>Author: {authorId}</p>
                  <p>{content}</p>
                </div>
              </article>
            ))
          }
        </div>
      </div>
    </section>
  </main>
</Layout>
